<app-loader-infinite-spinner
  [show]="startLoading"
></app-loader-infinite-spinner>
<app-display-message-box #displayMessageBox></app-display-message-box>

<div class="w-full h-full relative">
  <img
    src="assets/img/bg-5.avif"
    class="absolute z-0 object-cover w-full h-full"
    alt=""
    srcset=""
  />
  <div class="absolute top-0 left-0 right-0 bottom-0 grid place-items-center">
    <form
      id="forgot-password-form"
      *transloco="let t; read: 'auth.changePassword'"
      class="bg-white grid place-items-center px-8 py-8 shadow-2 rounded-md space-y-0 w-11/12 lg:w-[30rem]"
      [formGroup]="formGroup"
    >
      <img src="assets/img/logo.png" class="w-40" alt="" srcset="" />
      <div
        *transloco="let t; read: 'auth.changePassword'"
        class="w-full flex flex-col"
      >
        <h6 class="text-center text-xl">
          {{ t("changePassword") }}
        </h6>
        <h6
          *transloco="let t; read: 'auth.changePassword'"
          class="text-center text-sm"
        >
          {{ t("completeForm") }}
        </h6>
      </div>
      <div class="flex flex-col space-y-0 w-full py-8">
        <div class="flex flex-col space-y-1 w-full">
          <h6
            *transloco="let t; read: 'auth.changePassword.form'"
            class="text-left text-sm"
          >
            {{ t("mobileNumber") }} <span class="text-red-600">*</span>
          </h6>
          <app-phone-number-input
            [mobileNumber]="mobile"
          ></app-phone-number-input>
        </div>
        <div class="flex flex-col space-y-1 w-full">
          <h6
            *transloco="let t; read: 'auth.changePassword.form'"
            class="text-left text-sm"
          >
            {{ t("password") }} <span class="text-red-600">*</span>
          </h6>
          <mat-form-field
            color="primary"
            accent="secondary"
            class="example-full-width"
          >
            <mat-icon matPrefix>lock</mat-icon>
            <input
              matInput
              value=""
              type="password"
              [formControl]="password"
              [placeholder]="t('form.password')"
            />
            <mat-error *ngIf="password && password.invalid && password.touched">
              @if (password.hasError('required')) {
              {{ t("isEmpty") }}
              } @else if (password.hasError('passwordMismatch')) {
              {{ t("passwordsDoNotMatch") }}
              }
            </mat-error>
          </mat-form-field>
        </div>
        <div class="flex flex-col space-y-1 w-full">
          <h6
            *transloco="let t; read: 'auth.changePassword.form'"
            class="text-left text-sm"
          >
            {{ t("confirmPassword") }} <span class="text-red-600">*</span>
          </h6>
          <mat-form-field
            color="primary"
            accent="secondary"
            class="example-full-width"
          >
            <mat-icon matPrefix>lock</mat-icon>
            <input
              matInput
              value=""
              type="password"
              [formControl]="changePassword"
              [placeholder]="t('form.confirmPassword')"
            />
            <mat-error
              *ngIf="
                changePassword &&
                changePassword.invalid &&
                changePassword.touched
              "
            >
              @if (changePassword.hasError('required')) {
              {{ t("isEmpty") }}
              } @else if (changePassword.hasError('passwordMismatch')) {
              {{ t("passwordsDoNotMatch") }}
              }
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <button
        *transloco="let y; read: 'actions'"
        (click)="submitForm()"
        form="forgot-password-form"
        type="submit"
        mat-flat-button
        color="primary"
        class="w-full"
      >
        {{ y("submit") }}
      </button>
    </form>
  </div>
</div>
